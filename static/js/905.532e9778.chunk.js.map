{"version":3,"file":"static/js/905.532e9778.chunk.js","mappings":"0OAmBA,EAdsC,WACpC,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IACMC,EADe,IAAIC,gBAAgBJ,EAASK,QACZC,IAAI,aAC1C,GAAIH,EAAkB,CACpB,IAAMI,EAAcJ,EAAiBK,MAAM,KAC3CV,GAASW,EAAAA,EAAAA,IAAwBF,GACnC,CACF,GAAG,CAACP,EAASK,OAAQP,GACvB,E,8BChBA,EAA4B,6BAA5B,EAAyE,iCAAzE,EAA+H,sCAA/H,EAAkL,8B,SCyDlL,EA3CkB,WAChBY,IAEA,IAAMC,GAAWC,EAAAA,EAAAA,MAMXC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAUF,EAAAA,EAAAA,IAAYG,EAAAA,IACtBC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,IACxBC,GAAQN,EAAAA,EAAAA,IAAYO,EAAAA,IAEpBC,EAAkBN,EAAQO,QAAO,SAAAC,GAAA,IAAGC,EAAGD,EAAHC,IAAG,OAAOZ,EAAUa,SAASD,EAAI,IAQ3E,OANAvB,EAAAA,EAAAA,YAAU,WACJkB,GACFT,EAAS,SAEb,GAAG,CAACS,EAAOT,IAEPO,GAAkBS,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IACxBN,EAAgBO,QAcnBF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAoBC,UAClCL,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CAACjB,QAASM,OAbrBY,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAA6BC,SAAA,EAC3CL,EAAAA,EAAAA,KAAA,MAAIG,UAAWC,EAAwBC,SAAC,qBACxCL,EAAAA,EAAAA,KAAA,UACEG,UAAS,GAAAK,OAAKC,EAAAA,EAAAA,kBAAiC,KAAAD,OAAIJ,GACnDM,QAxBkB,WACxB1B,EAAS,WACX,EAsBmCqB,SAC5B,cAWT,C","sources":["store/favoriteSlice.js","webpack://react-homework-template/./src/pages/Favorites/favorites.module.css?d64a","pages/Favorites/index.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { setFavoritesFromStorage } from './camperSlice';\n\nconst useInitializeFavoritesFromUrl = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const favoritesFromUrl = searchParams.get('favorites');\n    if (favoritesFromUrl) {\n      const favoriteIds = favoritesFromUrl.split(',');\n      dispatch(setFavoritesFromStorage(favoriteIds));\n    }\n  }, [location.search, dispatch]);\n};\n\nexport default useInitializeFavoritesFromUrl;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"favorites_container__P5W4w\",\"noCampersText\":\"favorites_noCampersText__XNbeT\",\"noCampersContainer\":\"favorites_noCampersContainer__iRnNC\",\"tripButton\":\"favorites_tripButton__3qGvv\"};","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport CamperList from '../../components/CamperList/CamperList';\nimport useInitializeFavoritesFromUrl from '../../store/favoriteSlice';\nimport {\n  selectCampers,\n  selectFavorites,\n  selectIsLoading,\n  selectError,\n} from '../../store/selectors';\nimport Loader from '../../components/Loader/Loader';\nimport commonModuleCss from '../../common.module.css';\nimport moduleCss from './favorites.module.css';\n\nconst Favorites = () => {\n  useInitializeFavoritesFromUrl();\n\n  const navigate = useNavigate();\n\n  const handleButtonClick = () => {\n    navigate('/catalog');\n  };\n\n  const favorites = useSelector(selectFavorites);\n  const campers = useSelector(selectCampers);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n\n  const favoriteCampers = campers.filter(({ _id }) => favorites.includes(_id));\n\n  useEffect(() => {\n    if (error) {\n      navigate('/error');\n    }\n  }, [error, navigate]);\n\n  if (isLoading) return <Loader />;\n  if (!favoriteCampers.length)\n    return (\n      <div className={moduleCss.noCampersContainer}>\n        <h1 className={moduleCss.noCampersText}>Garage is empty</h1>\n        <button\n          className={`${commonModuleCss.bookingFormButton} ${moduleCss.tripButton}`}\n          onClick={handleButtonClick}\n        >\n          To Trip\n        </button>\n      </div>\n    );\n\n  return (\n    <div className={moduleCss.container}>\n      <CamperList campers={favoriteCampers} />\n    </div>\n  );\n};\n\nexport default Favorites;\n"],"names":["dispatch","useDispatch","location","useLocation","useEffect","favoritesFromUrl","URLSearchParams","search","get","favoriteIds","split","setFavoritesFromStorage","useInitializeFavoritesFromUrl","navigate","useNavigate","favorites","useSelector","selectFavorites","campers","selectCampers","isLoading","selectIsLoading","error","selectError","favoriteCampers","filter","_ref","_id","includes","_jsx","Loader","length","className","moduleCss","children","CamperList","_jsxs","concat","commonModuleCss","onClick"],"sourceRoot":""}