"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[977],{8871:function(a,e,c){c.r(e),c.d(e,{default:function(){return S}});var t=c(3433),n=c(1413),o=c(5861),l=c(9439),i=c(7757),r=c.n(i),s=c(2791),u=c(4420),d=c(7689),h=c(3958),p=c(6537),g=c(5847),m=c(2829),_=c(8223),v={catalogSection:"catalog_catalogSection__SMmuh",catalogWrapper:"catalog_catalogWrapper__-uPEj",catalogInputWrapper:"catalog_catalogInputWrapper__2K-4O",catalogInput:"catalog_catalogInput__7+XRA",catalogInputIcon:"catalog_catalogInputIcon__BzTbK",checkboxInput:"catalog_checkboxInput__eQDhR",checkboxLabel:"catalog_checkboxLabel__9fWAk",catalogSideFilters:"catalog_catalogSideFilters__pQEnp",active:"catalog_active__n1XSu",catalogSideP:"catalog_catalogSideP__wLlsX",catalogInputIconVan:"catalog_catalogInputIconVan__P4DYe",catalogSearchBtn:"catalog_catalogSearchBtn__hEkcD",catalogInputIconSearch:"catalog_catalogInputIconSearch__fRy2i",catalogLeft:"catalog_catalogLeft__YlV+E",catalogRight:"catalog_catalogRight__IGZG5",catalogSideVanWrapper:"catalog_catalogSideVanWrapper__7D9xT",catalogFilterItem:"catalog_catalogFilterItem__hrRI0"},x=c(8998),f=c(184),k=function(a){var e=a.type,c=a.id,t=a.name,n=a.value,o=a.checked,l=a.onChange,i=a.label,r=a.icon;return(0,f.jsxs)("div",{className:v.catalogSideGroup,children:[(0,f.jsx)("input",{type:e,id:c,name:t,value:n,checked:o,onChange:l,className:v.checkboxInput}),(0,f.jsxs)("label",{htmlFor:c,className:"".concat(v.checkboxLabel," ").concat(o?v.active:""),children:[(0,f.jsx)("div",{className:v.checkboxSquare,children:(0,f.jsx)("svg",{className:"radio"===e?v.catalogInputIconVan:v.catalogInputIcon,children:(0,f.jsx)("use",{href:"".concat(x.Z,"#").concat(r)})})}),(0,f.jsx)("p",{className:v.catalogSideP,children:i})]})]})},j=c(4406),b=function(a){var e=a.filters,c=a.handleFilterChange;return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:v.catalogSideFilters,children:[(0,f.jsx)(k,{type:"checkbox",id:"airConditioner",name:"details",value:"airConditioner",checked:e.details.includes("airConditioner"),onChange:c,label:"AC",icon:"ac"}),(0,f.jsx)(k,{type:"checkbox",id:"automatic",name:"transmission",value:"automatic",checked:e.transmission.includes("automatic"),onChange:c,label:"Automatic",icon:"automatic"}),(0,f.jsx)(k,{type:"checkbox",id:"kitchen",name:"details",value:"kitchen",checked:e.details.includes("kitchen"),onChange:c,label:"Kitchen",icon:"kitchen"}),(0,f.jsx)(k,{type:"checkbox",id:"TV",name:"details",value:"TV",checked:e.details.includes("TV"),onChange:c,label:"TV",icon:"tv"}),(0,f.jsx)(k,{type:"checkbox",id:"shower",name:"details",value:"shower",checked:e.details.includes("shower"),onChange:c,label:"Shower/WC",icon:"shower"})]}),(0,f.jsx)("p",{className:j.Z.detailsTitle,children:"Vehicle type"}),(0,f.jsxs)("div",{className:v.catalogSideVanWrapper,children:[(0,f.jsx)(k,{type:"radio",id:"alcove",name:"form",value:"alcove",checked:e.form.includes("alcove"),onChange:c,label:"Alcove",icon:"van_alcove"}),(0,f.jsx)(k,{type:"radio",id:"van",name:"form",value:"van",checked:e.form.includes("van"),onChange:c,label:"Van",icon:"van"}),(0,f.jsx)(k,{type:"radio",id:"panelTruck",name:"form",value:"panelTruck",checked:e.form.includes("panelTruck"),onChange:c,label:"Camper",icon:"camper"})]})]})},I=c(2522),S=function(){var a=(0,u.I0)(),e=(0,u.v9)(m.kX),c=(0,u.v9)(m.xU),i=(0,u.v9)(m.zh),x=(0,u.v9)((function(a){return a.camper.page})),k=(0,d.s0)(),S=(0,s.useState)({location:"",details:[],form:"",transmission:""}),C=(0,l.Z)(S,2),y=C[0],N=C[1],Z=(0,s.useState)(y),w=(0,l.Z)(Z,2),V=w[0],F=w[1],W=(0,s.useState)(!0),T=(0,l.Z)(W,2),L=T[0],E=T[1];(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a((0,h.MZ)({page:x,limit:4,filters:V}));case 2:e.sent.payload.length<4&&E(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,x,4,V]),(0,s.useEffect)((function(){i&&k("/error")}),[i,k]);var R=function(a){var e=a.target,c=e.name,o=e.value,l=e.type,i=e.checked;N((function(a){var e=(0,n.Z)({},a);return"checkbox"===l?"transmission"===c?e.transmission=i?o:"":e.details=i?[].concat((0,t.Z)(a.details),[o]):a.details.filter((function(a){return a!==o})):"radio"===l?e.form=o:e[c]=o,e}))},A=function(){a((0,_.Y8)()),E(!0),F(y),a((0,h.MZ)({page:1,limit:4,filters:y}))},B=function(){var e=(0,o.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((0,_.bh)()),a((0,h.MZ)({page:x+1,limit:4,filters:V}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?(0,f.jsx)(I.Z,{}):(0,f.jsx)("div",{className:v.catalogSection,children:(0,f.jsxs)("div",{className:v.catalogWrapper,children:[(0,f.jsxs)("section",{className:v.catalogLeft,children:[(0,f.jsx)("p",{children:"Location"}),(0,f.jsx)("div",{className:v.catalogInputWrapper,children:(0,f.jsx)("input",{className:v.catalogInput,type:"text",name:"location",placeholder:"Kyiv, Ukraine",value:y.location,onChange:R,onKeyDown:function(a){"Enter"===a.key&&A()}})}),(0,f.jsx)("p",{className:v.catalogFilterItem,children:"Filter"}),(0,f.jsx)(b,{filters:y,handleFilterChange:R}),(0,f.jsx)("button",{className:"".concat(j.Z.bookingFormButton," ").concat(v.catalogSearchBtn),onClick:A,children:"Search"})]}),(0,f.jsxs)("section",{className:v.catalogRight,children:[(0,f.jsx)(p.Z,{campers:e}),(0,f.jsx)("div",{children:L&&(0,f.jsx)(g.z,{onClick:B,children:"Load More"})})]})]})})}}}]);
//# sourceMappingURL=977.1a999b8c.chunk.js.map