{"version":3,"file":"static/js/977.1a999b8c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/Catalog/catalog.module.css?b0a1","components/helpers/InputWithLabel.jsx","pages/Catalog/Filters.jsx","pages/Catalog/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"catalogSection\":\"catalog_catalogSection__SMmuh\",\"catalogWrapper\":\"catalog_catalogWrapper__-uPEj\",\"catalogInputWrapper\":\"catalog_catalogInputWrapper__2K-4O\",\"catalogInput\":\"catalog_catalogInput__7+XRA\",\"catalogInputIcon\":\"catalog_catalogInputIcon__BzTbK\",\"checkboxInput\":\"catalog_checkboxInput__eQDhR\",\"checkboxLabel\":\"catalog_checkboxLabel__9fWAk\",\"catalogSideFilters\":\"catalog_catalogSideFilters__pQEnp\",\"active\":\"catalog_active__n1XSu\",\"catalogSideP\":\"catalog_catalogSideP__wLlsX\",\"catalogInputIconVan\":\"catalog_catalogInputIconVan__P4DYe\",\"catalogSearchBtn\":\"catalog_catalogSearchBtn__hEkcD\",\"catalogInputIconSearch\":\"catalog_catalogInputIconSearch__fRy2i\",\"catalogLeft\":\"catalog_catalogLeft__YlV+E\",\"catalogRight\":\"catalog_catalogRight__IGZG5\",\"catalogSideVanWrapper\":\"catalog_catalogSideVanWrapper__7D9xT\",\"catalogFilterItem\":\"catalog_catalogFilterItem__hrRI0\"};","import moduleCss from '../../pages/Catalog/catalog.module.css';\nimport sprite from '../../image/icons/sprite.svg';\n\nconst InputWithLabel = ({\n  type,\n  id,\n  name,\n  value,\n  checked,\n  onChange,\n  label,\n  icon,\n}) => (\n  <div className={moduleCss.catalogSideGroup}>\n    <input\n      type={type}\n      id={id}\n      name={name}\n      value={value}\n      checked={checked}\n      onChange={onChange}\n      className={moduleCss.checkboxInput}\n    />\n    <label\n      htmlFor={id}\n      className={`${moduleCss.checkboxLabel} ${\n        checked ? moduleCss.active : ''\n      }`}\n    >\n      <div className={moduleCss.checkboxSquare}>\n        <svg\n          className={\n            type === 'radio'\n              ? moduleCss.catalogInputIconVan\n              : moduleCss.catalogInputIcon\n          }\n        >\n          <use href={`${sprite}#${icon}`} />\n        </svg>\n      </div>\n      <p className={moduleCss.catalogSideP}>{label}</p>\n    </label>\n  </div>\n);\n\nexport default InputWithLabel;\n","import InputWithLabel from '../../components/helpers/InputWithLabel';\nimport moduleCss from './catalog.module.css';\nimport commonModuleCss from '../../common.module.css';\n\nconst Filters = ({ filters, handleFilterChange }) => (\n  <div>\n    <div className={moduleCss.catalogSideFilters}>\n      <InputWithLabel\n        type=\"checkbox\"\n        id=\"airConditioner\"\n        name=\"details\"\n        value=\"airConditioner\"\n        checked={filters.details.includes('airConditioner')}\n        onChange={handleFilterChange}\n        label=\"AC\"\n        icon=\"ac\"\n      />\n      <InputWithLabel\n        type=\"checkbox\"\n        id=\"automatic\"\n        name=\"transmission\"\n        value=\"automatic\"\n        checked={filters.transmission.includes('automatic')}\n        onChange={handleFilterChange}\n        label=\"Automatic\"\n        icon=\"automatic\"\n      />\n      <InputWithLabel\n        type=\"checkbox\"\n        id=\"kitchen\"\n        name=\"details\"\n        value=\"kitchen\"\n        checked={filters.details.includes('kitchen')}\n        onChange={handleFilterChange}\n        label=\"Kitchen\"\n        icon=\"kitchen\"\n      />\n      <InputWithLabel\n        type=\"checkbox\"\n        id=\"TV\"\n        name=\"details\"\n        value=\"TV\"\n        checked={filters.details.includes('TV')}\n        onChange={handleFilterChange}\n        label=\"TV\"\n        icon=\"tv\"\n      />\n      <InputWithLabel\n        type=\"checkbox\"\n        id=\"shower\"\n        name=\"details\"\n        value=\"shower\"\n        checked={filters.details.includes('shower')}\n        onChange={handleFilterChange}\n        label=\"Shower/WC\"\n        icon=\"shower\"\n      />\n    </div>\n    <p className={commonModuleCss.detailsTitle}>Vehicle type</p>\n    <div className={moduleCss.catalogSideVanWrapper}>\n      <InputWithLabel\n        type=\"radio\"\n        id=\"alcove\"\n        name=\"form\"\n        value=\"alcove\"\n        checked={filters.form.includes('alcove')}\n        onChange={handleFilterChange}\n        label=\"Alcove\"\n        icon=\"van_alcove\"\n      />\n      <InputWithLabel\n        type=\"radio\"\n        id=\"van\"\n        name=\"form\"\n        value=\"van\"\n        checked={filters.form.includes('van')}\n        onChange={handleFilterChange}\n        label=\"Van\"\n        icon=\"van\"\n      />\n      <InputWithLabel\n        type=\"radio\"\n        id=\"panelTruck\"\n        name=\"form\"\n        value=\"panelTruck\"\n        checked={filters.form.includes('panelTruck')}\n        onChange={handleFilterChange}\n        label=\"Camper\"\n        icon=\"camper\"\n      />\n    </div>\n  </div>\n);\n\nexport default Filters;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { fetchCamper } from '../../api/api';\nimport CamperList from '../../components/CamperList/CamperList';\nimport { Button } from '../../components/Button/Button';\nimport { selectCampers, selectIsLoading, selectError } from 'store/selectors';\nimport { resetPage, incrementPage } from '../../store/camperSlice';\nimport Filters from './Filters';\nimport Loader from 'components/Loader/Loader';\nimport commonModuleCss from '../../common.module.css';\nimport moduleCss from './catalog.module.css';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const campers = useSelector(selectCampers);\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  const page = useSelector(state => state.camper.page);\n  const navigate = useNavigate();\n\n  const [filters, setFilters] = useState({\n    location: '',\n    details: [],\n    form: '',\n    transmission: '',\n  });\n  const [activeFilters, setActiveFilters] = useState(filters);\n  const [hasMore, setHasMore] = useState(true);\n  const limit = 4;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await dispatch(\n        fetchCamper({ page, limit, filters: activeFilters })\n      );\n      if (result.payload.length < limit) {\n        setHasMore(false);\n      }\n    };\n\n    fetchData();\n  }, [dispatch, page, limit, activeFilters]);\n\n  useEffect(() => {\n    if (error) {\n      navigate('/error');\n    }\n  }, [error, navigate]);\n\n  const handleFilterChange = ({ target: { name, value, type, checked } }) => {\n    setFilters(prev => {\n      const newFilters = { ...prev };\n\n      if (type === 'checkbox') {\n        if (name === 'transmission') {\n          newFilters.transmission = checked ? value : '';\n        } else {\n          newFilters.details = checked\n            ? [...prev.details, value]\n            : prev.details.filter(detail => detail !== value);\n        }\n      } else if (type === 'radio') {\n        newFilters.form = value;\n      } else {\n        newFilters[name] = value;\n      }\n\n      return newFilters;\n    });\n  };\n\n  const handleSearch = () => {\n    dispatch(resetPage());\n    setHasMore(true);\n    setActiveFilters(filters);\n    dispatch(fetchCamper({ page: 1, limit, filters }));\n  };\n\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const handleLoadMore = async () => {\n    dispatch(incrementPage());\n    dispatch(fetchCamper({ page: page + 1, limit, filters: activeFilters }));\n  };\n\n  if (isLoading) return <Loader />;\n  return (\n    <div className={moduleCss.catalogSection}>\n      <div className={moduleCss.catalogWrapper}>\n        <section className={moduleCss.catalogLeft}>\n          <p>Location</p>\n          <div className={moduleCss.catalogInputWrapper}>\n            <input\n              className={moduleCss.catalogInput}\n              type=\"text\"\n              name=\"location\"\n              placeholder=\"Kyiv, Ukraine\"\n              value={filters.location}\n              onChange={handleFilterChange}\n              onKeyDown={handleKeyDown}\n            />\n          </div>\n\n          <p className={moduleCss.catalogFilterItem}>Filter</p>\n          <Filters filters={filters} handleFilterChange={handleFilterChange} />\n          <button\n            className={`${commonModuleCss.bookingFormButton} ${moduleCss.catalogSearchBtn}`}\n            onClick={handleSearch}\n          >\n            Search\n          </button>\n        </section>\n\n        <section className={moduleCss.catalogRight}>\n          <CamperList campers={campers} />\n          <div>\n            {hasMore && <Button onClick={handleLoadMore}>Load More</Button>}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default Catalog;\n"],"names":["_ref","type","id","name","value","checked","onChange","label","icon","_jsxs","className","moduleCss","children","_jsx","htmlFor","concat","href","sprite","filters","handleFilterChange","InputWithLabel","details","includes","transmission","commonModuleCss","form","dispatch","useDispatch","campers","useSelector","selectCampers","isLoading","selectIsLoading","error","selectError","page","state","camper","navigate","useNavigate","_useState","useState","location","_useState2","_slicedToArray","setFilters","_useState3","_useState4","activeFilters","setActiveFilters","_useState5","_useState6","hasMore","setHasMore","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","fetchCamper","limit","sent","payload","length","stop","apply","arguments","_ref2","_ref2$target","target","newFilters","_objectSpread","_toConsumableArray","filter","detail","handleSearch","resetPage","handleLoadMore","_ref3","_callee2","_context2","incrementPage","Loader","placeholder","onKeyDown","e","key","Filters","onClick","CamperList","Button"],"sourceRoot":""}